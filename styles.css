/* =========================
   GLOBAL RESET & BASE
========================= */
*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html, body {
  height: 100%;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Ubuntu, "Helvetica Neue", sans-serif;
  -webkit-font-smoothing: antialiased;
}

body {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  color: var(--ink);
  background: var(--bg);
}

/* =========================
   THEME VARIABLES
   (Dark = default)
========================= */
:root,
:root[data-theme="dark"] {
  --bg:#0a0f1c;
  --card:#111827;
  --ink:#f9fafb;
  --muted:#9ca3af;
  --line:#1f2937;

  --chip:#111827;
  --chip-border:#374151;
  --chip-hover:rgba(139,28,35,.22);

  --table-alt:#141c2b;
  --table-head:#182235;

  --btn-ghost-bg:#0f172a;
  --btn-ghost-border:#334155;

  --shadow:0 14px 30px rgba(0,0,0,.6);
  --watermark:#8b1c23;

  --brand-1:#b91c1c;
  --brand-2:#dc2626; /* used by primary button, focus, etc. */
  --brand-3:#ef4444;
}

/* === Improved Light Theme (high contrast & clearer borders) === */
:root.light,
:root[data-theme="light"] {
  --bg:#f3f6fc;          /* brighter canvas */
  --card:#ffffff;        /* pure white cards */
  --ink:#0a0f1c;         /* near-black text */
  --muted:#4b5568;       /* darker muted for readability */
  --line:#b7c4dc;        /* clearer outlines/separators */

  --chip:#ffffff;        /* chips stay white */
  --chip-border:#b7c4dc; /* visible chip border */
  --chip-hover:rgba(139,28,35,0.14); /* brand-tinted ring */

  --table-alt:#eef3fb;   /* stronger zebra */
  --table-head:#e6eef9;  /* distinct header band */

  --btn-ghost-bg:#ffffff;
  --btn-ghost-border:#a6b6d4;

  --shadow:0 14px 30px rgba(16, 30, 67, .12);
  --watermark:#8b1c23;

  --brand-1:#b91c1c;
  --brand-2:#c61e1e;     /* slightly deeper for contrast on white */
  --brand-3:#a91515;
}

/* =========================
   LAYOUT
========================= */
.container {
  width: min(1200px, 95%);
  margin: auto;
  padding: 24px;
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.card {
  background: var(--card);
  border-radius: 16px;
  box-shadow: var(--shadow);
  padding: 24px;
  border: 1px solid var(--line);
}

/* =========================
   HEADINGS & TEXT
========================= */
h1 {
  font-size: 24px;
  margin-bottom: 12px;
  font-weight: 700;
  letter-spacing: -.01em;
}
h2 {
  font-size: 20px;
  margin-bottom: 8px;
  font-weight: 600;
}
p {
  color: var(--muted);
  line-height: 1.5;
  margin-bottom: 12px;
}

/* =========================
   FORM
========================= */
form {
  display: grid;
  grid-template-columns: repeat(auto-fit,minmax(220px,1fr));
  gap: 16px;
}

label {
  font-size: 12px;
  margin-bottom: 6px;
  display: block;
  color: var(--muted);
  letter-spacing: .02em;
}

input,
select {
  width: 100%;
  padding: 11px 12px;
  border-radius: 10px;
  border: 1px solid var(--line);
  background: transparent;
  color: var(--ink);
  font-size: 14px;
  outline: none;
  transition: border .15s ease, box-shadow .15s ease, background .15s ease;
}

input:focus,
select:focus {
  border-color: var(--brand-2);
  box-shadow: 0 0 0 4px var(--chip-hover);
}

/* Make inputs clearly white in light mode */
:root.light input,
:root.light select,
:root[data-theme="light"] input,
:root[data-theme="light"] select {
  background: #fff;
}

/* =========================
   BUTTONS
========================= */
.btn {
  padding: 10px 16px;
  border-radius: 10px;
  font-size: 14px;
  cursor: pointer;
  border: none;
  font-weight: 600;
  transition: background .15s ease, transform .08s ease, border .15s ease, opacity .15s;
}

.btn:active { transform: scale(.98); }

.btn.primary {
  background: linear-gradient(135deg, var(--brand-2), var(--brand-1));
  color: #fff;
}

.btn.outline {
  border: 1px solid var(--brand-2);
  color: var(--brand-2);
  background: transparent;
}

.btn.ghost {
  background: var(--btn-ghost-bg);
  border: 1px solid var(--btn-ghost-border);
  color: var(--ink);
}

.btn:hover { opacity: .92; }

/* Stronger separation for light mode outline/ghost */
:root.light .btn.ghost,
:root[data-theme="light"] .btn.ghost,
:root.light .btn.outline,
:root[data-theme="light"] .btn.outline {
  border: 1px solid var(--btn-ghost-border);
}

/* =========================
   TABLES
========================= */
.table-wrap {
  overflow-x: auto;
  border-radius: 12px;
  border: 1px solid var(--line);
  background: var(--card);
}

table {
  width: 100%;
  border-collapse: collapse;
  font-size: 14px;
  min-width: 600px;
}

thead {
  background: var(--table-head);
  position: sticky;
  top: 0;
  z-index: